<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pheasant Invitational — Hub</title>
<meta name="theme-color" content="#ffffff" />
<style>
  :root { --bg:#ffffff; --card:#ffffff; --fg:#111827; --muted:#64748b; --accent:#2563eb; --border:#e5e7eb; }
  *{box-sizing:border-box}
  html,body{margin:0;height:100%;background:var(--bg);color:var(--fg);font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial}
  .topbar{position:sticky;top:0;z-index:10;background:var(--card);border-bottom:1px solid var(--border);display:flex;align-items:center;gap:8px;padding:8px 12px}
  .back{background:none;border:0;color:#111827;font-size:20px;line-height:1;cursor:pointer}
  .logo{width:32px;height:32px;border-radius:8px;border:1px solid var(--border);overflow:hidden;display:grid;place-items:center;background:#fff}
  .logo img{width:100%;height:100%;object-fit:contain}
  .title{font-weight:800;font-size:16px}
  .tabs{display:flex;gap:8px;padding:10px 12px;flex-wrap:wrap;border-bottom:1px solid var(--border);background:var(--bg)}
  .tab{padding:8px 12px;border:1px solid var(--border);border-radius:999px;background:#f8fafc;color:#0f172a;cursor:pointer;font-weight:600}
  .tab[aria-selected="true"]{background:var(--accent);border-color:var(--accent);color:#fff}
  .wrap{padding:12px}
  .card{background:var(--card);border:1px solid var(--border);border-radius:14px;padding:12px;min-height:60vh;display:flex;flex-direction:column}
  [hidden]{ display:none !important; }
  .iframe-fluid{position:relative;width:100%;min-height:70vh;flex:1}
  .iframe-fluid iframe{position:absolute;inset:0;width:100%;height:100%;border:0}
  .panel-footer{margin-top:12px;text-align:right}
  .btn-small{font-size:12px;padding:4px 8px;border-radius:6px;border:1px solid var(--border);background:#f1f5f9;color:#0f172a;text-decoration:none;font-weight:500}
  .btn-small:hover{background:#e2e8f0}
</style>
</head>
<body>

  <div class="topbar">
    <button class="back" onclick="goBack()">←</button>
    <div class="logo"><img src="assets/icon_60pt@3x.png" alt="Pheasant logo" /></div>
    <div class="title">Pheasant Invitational</div>
  </div>

  <!-- Tabs -->
  <div class="tabs" role="tablist" aria-label="Tournament Hub">
    <button type="button" class="tab" role="tab" id="tab-matches" aria-controls="panel-matches" aria-selected="true">Matches</button>
    <button type="button" class="tab" role="tab" id="tab-scoring" aria-controls="panel-scoring" aria-selected="false">Scoring</button>
    <button type="button" class="tab" role="tab" id="tab-stats"   aria-controls="panel-stats"   aria-selected="false">Stats</button>
    <!-- NEW unique id & controls -->
    <!--<button type="button" class="tab" role="tab" id="tab-y2024"   aria-controls="panel-y2024"   aria-selected="false">2024</button>-->
  </div>

  <div class="wrap">
    <!-- Panels -->
    <section id="panel-matches" role="tabpanel" aria-labelledby="tab-matches" class="card"></section>
    <section id="panel-scoring" role="tabpanel" aria-labelledby="tab-scoring" class="card" hidden></section>
    <section id="panel-stats"   role="tabpanel" aria-labelledby="tab-stats"   class="card" hidden></section>
    <!-- NEW panel; aria-labelledby points to tab-y2024 -->
    <!--<section id="panel-y2024"   role="tabpanel" aria-labelledby="tab-y2024"   class="card" hidden></section>-->
  </div>

<script>
  function goBack(){ location.href = "index.html"; }

  const external = {
    matches: "https://www.golfgenius.com/leagues/11881229955629071492/widgets/next_round?page_id=11881230126622457285",
    scoring: "https://www.golfgenius.com/leagues/11881229955629071492/widgets/customized_tournament_results?page_id=11881230128635723207&no_player_profile=true&no_print_button=true",
    stats:   "https://www.golfgenius.com/leagues/11881229955629071492/widgets/player_stats?page_id=11881230129642356168",
    // Key must be a valid identifier/string:
    //-y2024:   "https://www.golfgenius.com/leagues/10898143129479691694/widgets/customized_tournament_results?page_id=10935949364488584610"
  };

  const mounted = new Set();

  function mountEmbed(key, panelId){
    if (mounted.has(key)) return;
    const panel = document.getElementById(panelId);
    if (!panel) return;

    const url = external[key];
    panel.innerHTML = `
      <div class="iframe-fluid">
        <iframe src="${url}" frameborder="0" scrolling="auto" allowfullscreen></iframe>
      </div>
      <div class="panel-footer">
        <a class="btn-small" target="_blank" rel="noopener" href="${url}">Open Source ↗</a>
      </div>
    `;
    mounted.add(key);
  }

  function selectTab(key){
    const tabs = document.querySelectorAll('.tab[role="tab"]');
    const panels = document.querySelectorAll('[role="tabpanel"]');

    tabs.forEach(t => t.setAttribute('aria-selected', String(t.id === 'tab-' + key)));
    panels.forEach(p => {
      const show = p.id === 'panel-' + key;
      if (show) p.removeAttribute('hidden'); else p.setAttribute('hidden', '');
    });

    mountEmbed(key, 'panel-' + key);
    try{ localStorage.setItem('gg_tab', key); }catch(_){}
  }

  document.addEventListener('DOMContentLoaded', () => {
    // Wire tab clicks (note y2024)
    document.getElementById('tab-matches').addEventListener('click', () => selectTab('matches'));
    document.getElementById('tab-scoring').addEventListener('click', () => selectTab('scoring'));
    document.getElementById('tab-stats').addEventListener('click',   () => selectTab('stats'));
    document.getElementById('tab-y2024').addEventListener('click',   () => selectTab('y2024'));

    // Default/restore; fall back if unknown
    const last = localStorage.getItem('gg_tab') || 'matches';
    selectTab(external[last] ? last : 'matches');
  });
</script>
</body>
</html>
