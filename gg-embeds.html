<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Pheasant Invitational — Hub</title>
<meta name="theme-color" content="#ffffff" />
<style>
  :root { --bg:#fff; --fg:#111827; --muted:#64748b; --border:#e5e7eb; }

  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
    background:var(--bg); color:var(--fg)
  }

  /* Match Schedule page container exactly */
  .wrap{ max-width:860px; margin:0 auto; padding:24px; }

  .muted{color:var(--muted)}

  /* Compact header row (keeps height tight like Schedule) */
  .header-row{
    display:flex; align-items:center; gap:12px; margin-bottom:12px; padding:0;
  }

  /* Pill button (same as Schedule) */
  a.pill{
    text-decoration:none; text-align:center; padding:10px 12px;
    border-radius:999px; border:1px solid var(--border); background:#fff; color:#000;
  }

  /* Tabs: no side padding so content width matches .wrap */
  .tabs{
    display:flex; gap:8px; padding:10px 0; flex-wrap:wrap;
    border-bottom:1px solid var(--border); background:var(--bg);
  }
  .tab{
    padding:8px 12px; border:1px solid var(--border); border-radius:999px;
    background:#f8fafc; color:#0f172a; cursor:pointer; font-weight:600;
  }
  .tab[aria-selected="true"]{ background:#2563eb; border-color:#2563eb; color:#fff; }

  .card{ border:1px solid var(--border); border-radius:14px; padding:16px; background:#fff; }

  .iframe-fluid{ position:relative; width:100%; min-height:70vh; flex:1; }
  .iframe-fluid iframe{ position:absolute; inset:0; width:100%; height:100%; border:0; }

  .panel-footer{ margin-top:12px; text-align:right; }
  .btn-small{
    font-size:12px; padding:4px 8px; border-radius:6px; border:1px solid var(--border);
    background:#f1f5f9; color:#0f172a; text-decoration:none; font-weight:500;
  }
  .btn-small:hover{ background:#e2e8f0; }

  /* === Full-bleed overrides (add at end of <style>) === */
html, body { height: 100%; }
.wrap { max-width: none; padding: 0; height: 100%; }
.card { border: 0; border-radius: 0; padding: 0; }

/* Make tabs stick to the top; keep content edge-to-edge */
.header-row { padding: 12px 16px; }      /* compact header */
.tabs {
  padding: 8px 16px;
  position: sticky; top: 0; z-index: 5;
  background: var(--bg);
}

/* The iframe panel should use the remaining viewport height */
.iframe-fluid { position: relative; width: 100%; height: 100%; }

/* Hide the little footer link if you want zero chrome */
.panel-footer { display: none; }


  
</style>
</head>
<body>

  <div class="wrap">
    <!-- Header (tight, like Schedule) -->
    <header class="header-row">
      <a class="pill" href="./">← Home</a>
      <h2 style="margin:0">Event Hub</h2>
    </header>

    <!-- Tabs -->
    <div class="tabs" role="tablist" aria-label="Tournament Hub">
      <button type="button" class="tab" role="tab" id="tab-matches" aria-controls="panel-matches" aria-selected="true">Matches</button>
      <button type="button" class="tab" role="tab" id="tab-scoring" aria-controls="panel-scoring" aria-selected="false">Scoring</button>
      <button type="button" class="tab" role="tab" id="tab-stats"   aria-controls="panel-stats"   aria-selected="false">Stats</button>

      <!-- Placeholder tab buttons (uncomment to use) -->
      <!-- <button type="button" class="tab" role="tab" id="tab-extra1" aria-controls="panel-extra1" aria-selected="false">Extra 1</button> -->
      <!-- <button type="button" class="tab" role="tab" id="tab-extra2" aria-controls="panel-extra2" aria-selected="false">Extra 2</button> -->
    </div>

    <!-- Panels (NOTE: no second .wrap; this keeps width identical to Schedule) -->
    <section id="panel-matches" role="tabpanel" aria-labelledby="tab-matches" class="card"></section>
    <section id="panel-scoring" role="tabpanel" aria-labelledby="tab-scoring" class="card" hidden></section>
    <section id="panel-stats"   role="tabpanel" aria-labelledby="tab-stats"   class="card" hidden></section>

    <!-- Placeholder panels (uncomment to use) -->
    <!-- <section id="panel-extra1" role="tabpanel" aria-labelledby="tab-extra1" class="card" hidden></section> -->
    <!-- <section id="panel-extra2" role="tabpanel" aria-labelledby="tab-extra2" class="card" hidden></section> -->
  </div>

<script>
  const external = {
    matches: "https://www.golfgenius.com/leagues/11881229955629071492/widgets/next_round?page_id=11881230126622457285",
    scoring: "https://www.golfgenius.com/leagues/11881229955629071492/widgets/customized_tournament_results?page_id=11881230128635723207&no_player_profile=true&no_print_button=true",
    stats:   "https://www.golfgenius.com/leagues/11881229955629071492/widgets/player_stats?page_id=11881230129642356168",
    // extra1: "https://example.com/",
    // extra2: "https://example.com/"
  };

  const mounted = new Set();

  function mountEmbed(key, panelId){
    if (mounted.has(key)) return;
    const panel = document.getElementById(panelId);
    if (!panel) return;

    const url = external[key];
    panel.innerHTML = `
      <div class="iframe-fluid">
        <iframe src="${url}" frameborder="0" scrolling="auto" allowfullscreen></iframe>
      </div>
      <div class="panel-footer">
        <a class="btn-small" target="_blank" rel="noopener" href="${url}">Open Source ↗</a>
      </div>
    `;
    mounted.add(key);
  }

  function selectTab(key){
    const tabs = document.querySelectorAll('.tab[role="tab"]');
    const panels = document.querySelectorAll('[role="tabpanel"]');

    tabs.forEach(t => t.setAttribute('aria-selected', String(t.id === 'tab-' + key)));
    panels.forEach(p => {
      const show = p.id === 'panel-' + key;
      if (show) p.removeAttribute('hidden'); else p.setAttribute('hidden', '');
    });

    if (external[key]) mountEmbed(key, 'panel-' + key);
    try{ localStorage.setItem('gg_tab', key); }catch(_){}
  }

  // expose for the wrapper below
  window.selectTab = selectTab;

  // === Full-bleed height helper ===
  function _sizePanels() {
    const visible = document.querySelector('[role="tabpanel"]:not([hidden])');
    if (!visible) return;
    const rectTop = visible.getBoundingClientRect().top;
    const h = Math.max(200, window.innerHeight - rectTop);
    document.querySelectorAll('[role="tabpanel"]').forEach(p => {
      p.style.minHeight = h + 'px';
      p.style.height = h + 'px';
      const iframeBox = p.querySelector('.iframe-fluid');
      if (iframeBox) iframeBox.style.height = '100%';
    });
  }

  // Hook tab switcher so we resize after the panel changes
  const _origSelectTab = window.selectTab;
  window.selectTab = function(key){
    _origSelectTab(key);
    requestAnimationFrame(_sizePanels);
  };

  document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('tab-matches').addEventListener('click', () => selectTab('matches'));
    document.getElementById('tab-scoring').addEventListener('click', () => selectTab('scoring'));
    document.getElementById('tab-stats').addEventListener('click',   () => selectTab('stats'));

    const last = localStorage.getItem('gg_tab') || 'matches';
    selectTab(external[last] ? last : 'matches');
    _sizePanels(); // ensure initial full-height
  });

  window.addEventListener('load', _sizePanels);
  window.addEventListener('resize', _sizePanels);
  window.addEventListener('orientationchange', _sizePanels);
</script>
</body>
</html>


